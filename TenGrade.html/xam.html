<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>WEEEEEE WOOOOOOOO</title>
</head>
<style>
    body {
            width: auto;
            margin: auto;
            background-color: rgb(226, 181, 252);
        }
    #EarHead{
      position: absolute;
      top: 5px;
      left: 0px;
      height: 100px;
    }
    #Dust{
      position:absolute;
      left: 1710px;
      height: 60px;
    }
    #Night{
      position: absolute;
      left: 1600px;
      height: 100px;
    }
    #Fresh{
      position:absolute;
      left: 1470px;
      height: 100px;
    }
    #one{
      position:absolute;
      top:800px;
    }
    #two{
      position:absolute;
      top:800px;
      left:40px;
    }

</style>
<body>
  <img hidden id="EarHead" src="Gif_Xam.gif">
  <img hidden height="300" width="800" id="Towards" src="HeFaceU(4).png">
  <img hidden height="300" width="800" id="Away" src="">
  <img hidden height="300" width="800" id="youLeft" src="">
  <img hidden height="300" width="800" id="youRight" src="">
  <img id="Dust" src="Dust.png">
  <img id="Night" src="Night.png">
  <img id="Fresh" src="Fresh.png">
  <button id="one">
    one
  </button>
  <button id="two">
    two
  </button>
  <canvas id="canvas" width="1700" height="790" canvas style="border:4px solid rgb(0, 255, 213)">
  </canvas>
</body>
<script>
  var canvas = document.getElementById("canvas")
  var ctx = canvas.getContext("2d")
  var numBoxes = 120
  var xboxes = []
  var yboxes = []
  var changeDirX = []
  var changeDirY = []
  var arrayColorer = []
  var arrayWarm = []
  var arrayCold = []

  var imgU = document.getElementById("Towards")
  var cropXU = -740
  var cropYU = 100

  var x = 100
  var y = 100

  document.addEventListener("keydown", You)
  document.addEventListener("keydown", boxer)

  setInterval(You, 400)


  function You(e){
    console.log(e.key)
    ctx.clearRect(0, 0, 200000, 200000)
    if(e.key === "w"){
      if(cropXU === -740){
        cropXU = 2600
        y = y + 10
      } else if(cropXU === 2600){
        cropXU = 5940
        y = y + 10
      } else if(cropXU === 5940){
        cropXU = 9280
        y = y + 10
      } else if(cropXU === 9280){
        cropXU = -740
        y = y + 10
      }
    }
    ctx.drawImage(imgU, cropXU, cropYU, 4060, 12355, x, y, 250, 600);
  }

  function boxer(e){
    console.log(e.key)
    ctx.clearRect(0, 0, 2000, 2000)
    
  }
  ctx.clearRect(0, 0, 2000, 2000)
  setInterval(main, 16)

  for (var i = 0; i < numBoxes; i = i + 1) {
       xBox = Math.floor(Math.random() * 650) + 1
       yBox = Math.floor(Math.random() * 550) + 1
       xboxes.push(xBox)
       yboxes.push(yBox)
       RandomDirX = Math.floor(Math.random() * 20) + 1
       RandomDirY = Math.floor(Math.random() * -20) + 2
       /* if (randomX === 2) {
            RandomDirX = 7
        } else {
            RandomDirX = -7
        }
           if (randomY === 2) {
            RandomDirY = 7
        } else {
            RandomDirY = -7
        }   */
       changeDirX.push(RandomDirX);
       changeDirY.push(RandomDirY);
       arrayWarm.push(Math.random()*65)
       arrayCold.push(Math.random()*166-237)
   }
  function main() {
    ctx.clearRect(0, 0, 2000, 2000)

    for (var i = 0; i < numBoxes; i = i + 1) {
      if (xboxes[i] <= -10) {
          changeDirX[i] = -changeDirX[i];
          score = score + 1
      }
      if (xboxes[i] >= 800) {
          changeDirX[i] = -changeDirX[i];
          score = score + 1
      }
      if (yboxes[i] <= -10) {
          changeDirY[i] = -changeDirY[i];
          score = score + 1
      }
      if (yboxes[i] >= 600) {
          changeDirY[i] = -changeDirY[i];
          score = score + 1
      }

      xboxes[i] = xboxes[i] + changeDirX[i]
      yboxes[i] = yboxes[i] + changeDirY[i]

      xbox = xboxes[i]
      ybox = yboxes[i]

      document.getElementById("score").innerText = score

      ctx.fillStyle = "hsl("+arrayWarm[i]+", 50%, 45%)"
      // ctx.fillStyle = "hsl("+arrayCold[i]+", 30%, 40%)"
      ctx.fillRect(xbox, ybox, 100, 100);
    }
  document.getElementById("equals").innerText = numBoxes
  }
</script>
</html>